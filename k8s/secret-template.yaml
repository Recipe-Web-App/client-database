# Secret for MySQL credentials
# Uses envsubst for variable substitution from .env file
# Usage: envsubst < secret-template.yaml | kubectl apply -f -

apiVersion: v1
kind: Secret
metadata:
  name: client-database-secrets
  namespace: client-database
  labels:
    app: client-database
    component: credentials
type: Opaque
stringData:
  # Root user
  MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}

  # Maintenance user (schema changes, migrations)
  DB_MAINT_USERNAME: ${DB_MAINT_USERNAME}
  DB_MAINT_PASSWORD: ${DB_MAINT_PASSWORD}

  # Auth service user (application)
  AUTH_SERVICE_USERNAME: ${AUTH_SERVICE_USERNAME}
  AUTH_SERVICE_PASSWORD: ${AUTH_SERVICE_PASSWORD}

  # Database name (for convenience)
  MYSQL_DATABASE: ${MYSQL_DATABASE}
